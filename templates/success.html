<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ƒê·∫∑t h√†ng th√†nh c√¥ng</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{
  background:#f6f6f6;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}
.container{
  width:92%;
  max-width:420px;
}
.card{
  background:#fff;
  border-radius:20px;
  padding:22px 18px;
  text-align:center;
}

/* ===== HEADER ===== */
h1{
  color:#ff7a00;
  margin-bottom:6px;
}
.sub{
  font-size:14px;
  color:#2ecc71;
  margin-bottom:16px;
}

/* ===== AMOUNT CARD ===== */
.amount-card{
  background:#fafafa;
  border:1px solid #eee;
  border-radius:16px;
  padding:14px 10px;
  margin-bottom:18px;
}
.amount-label{
  font-size:12px;
  color:#777;
  margin-bottom:4px;
  letter-spacing:.5px;
}
.amount{
  font-size:28px;
  font-weight:bold;
  color:#e74c3c;
}

/* ===== QR ===== */
.qr-card{
  margin:14px 0;
  padding:14px;
  border-radius:16px;
  background:#fafafa;
  border:1px solid #eee;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
}
.qr-box{
  display:flex;
  justify-content:center;
  padding:12px;
  background:#fff;
  border-radius:14px;
  border:1px dashed #ddd;
}
.qr-box img{
  width:200px;
  max-width:100%;
}
.bank-info{
  margin-top:10px;
  font-size:13px;
  color:#444;
  line-height:1.5;
}

/* ===== COPY ===== */
.copy-box{
  display:flex;
  gap:6px;
  margin-top:12px;
}
.copy-box input{
  flex:1;
  padding:11px;
  border-radius:12px;
  border:1px solid #ddd;
  font-size:14px;
}
.copy-box button{
  padding:11px 14px;
  border:none;
  border-radius:12px;
  background:#ff7a00;
  color:#fff;
  font-size:14px;
  cursor:pointer;
}

/* ===== FOOTER ===== */
.note{
  font-size:13px;
  color:#666;
  margin-top:10px;
}
.home-btn{
  width:100%;
  margin-top:16px;
  padding:14px;
  border:none;
  border-radius:18px;
  background:#ff7a00;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}

/* ===== TOAST ===== */
.toast{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#333;
  color:#fff;
  padding:10px 14px;
  border-radius:999px;
  font-size:13px;
  display:none;
}
</style>
</head>

<body>

<div class="container">
  <div class="card">

    <h1>ƒê·∫∑t h√†ng th√†nh c√¥ng</h1>
    <div class="sub">ƒê∆°n h√†ng ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n ‚Äì vui l√≤ng thanh to√°n</div>

    <!-- AMOUNT -->
    <div class="amount-card">
      <div class="amount-label">S·ªê TI·ªÄN C·∫¶N THANH TO√ÅN</div>
      <div class="amount" id="amount">--</div>
    </div>

    <!-- QR -->
    <div class="qr-card">
      <div class="qr-box">
        <img src="/static/qr.png" alt="QR thanh to√°n">
      </div>
      <div class="bank-info">
        <b>TechComBank</b> ‚Ä¢ PH·∫†M DUY KH√ÅNH<br>
        ‚è± X√°c nh·∫≠n trong 5‚Äì10 ph√∫t
      </div>
    </div>

    <!-- COPY -->
    <div class="copy-box">
      <input id="transferContent" readonly>
      <button onclick="copyText()">üìã Sao ch√©p</button>
    </div>

    <div class="note">
      Vui l√≤ng chuy·ªÉn kho·∫£n ƒë√∫ng n·ªôi dung ƒë·ªÉ shop x√°c nh·∫≠n nhanh.
    </div>

    <button class="home-btn" onclick="goHome()">V·ªÅ trang ch·ªß</button>
  </div>
</div>

<div class="toast" id="toast">ƒê√£ sao ch√©p n·ªôi dung chuy·ªÉn kho·∫£n</div>

<script>
/* reset cart */
localStorage.removeItem("cart");

/* data */
const params = new URLSearchParams(window.location.search);
const total = params.get("total");
const orderId = "{{ order_id }}";

/* show amount */
if(total){
  document.getElementById("amount").innerText =
    Number(total).toLocaleString("vi-VN") + "ƒë";
}

/* transfer content */
document.getElementById("transferContent").value =
  "Thanh toan don " + orderId;

/* copy */
function copyText(){
  const input = document.getElementById("transferContent");
  input.select();
  document.execCommand("copy");
  const t = document.getElementById("toast");
  t.style.display="block";
  setTimeout(()=>t.style.display="none",2000);
}

function goHome(){
  window.location.href="/";
}
</script>

</body>
</html>
